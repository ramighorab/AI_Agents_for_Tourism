<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }} - Your Itinerary</title>
    <!-- Tailwind CSS for styling -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Fonts: Inter -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Applying the Inter font to the whole page */
        body {
            font-family: 'Inter', sans-serif;
        }
    </style>
</head>
<body class="bg-gray-100 text-gray-800">

    <!-- Banner Section -->
    <div class="bg-gradient-to-r from-blue-600 to-teal-500 text-white shadow-lg">
        <div class="container mx-auto px-4 py-12 text-center">
            <h1 class="text-5xl md:text-6xl font-bold mb-2">{{ title }}</h1>
            <p class="text-xl text-blue-100">Your AI-Powered Travel Planner</p>
        </div>
    </div>

    <!-- Main Content -->
    <div class="container mx-auto px-4 py-8 md:py-12">
        <div class="max-w-4xl mx-auto bg-white rounded-xl shadow-lg p-6 md:p-10 -mt-24 relative z-10">

            <!-- Header Section -->
            <div class="text-center mb-8">
                <h2 class="text-3xl font-bold text-gray-800">Your Personalized Itinerary</h2>
                <div class="mt-4">
                    <span class="inline-block bg-blue-100 text-blue-800 text-sm font-semibold mr-2 px-3 py-1 rounded-full">
                        Pace: {{ itinerary_data.itinerary_pace }}
                    </span>
                </div>
            </div>

            <!-- Itinerary Timeline -->
            <div class="space-y-12">
                {% for day_plan in itinerary_data.schedule %}
                <div>
                    <h3 class="text-2xl font-bold text-gray-800 mb-6 pb-2 border-b-2 border-gray-200">Day {{ day_plan.day }}</h3>
                    <div class="relative pl-8 border-l-2 border-blue-500">

                        {% for item in day_plan.timed_activities %}
                        <div class="mb-10 relative">
                            <!-- Timeline Dot -->
                            <div class="absolute -left-[42px] top-1 h-5 w-5 bg-white border-4 border-blue-500 rounded-full"></div>

                            <div class="p-5 bg-gray-50 rounded-lg shadow-sm border border-gray-200">
                                <!-- Time and Type Header -->
                                <div class="flex flex-wrap items-center justify-between mb-3">
                                    <p class="font-bold text-blue-600 text-lg">
                                        {{ item.start_time.strftime('%H:%M') }} - {{ item.end_time.strftime('%H:%M') }}
                                    </p>
                                    <span class="text-sm font-semibold text-gray-600 bg-gray-200 px-3 py-1 rounded-full">
                                        {{ item.type }}
                                    </span>
                                </div>

                                <!-- Activity Details -->
                                <h4 class="text-xl font-semibold text-gray-900 mb-2">{{ item.name }}</h4>
                                <p class="text-gray-600 mb-4">{{ item.description }}</p>

                                <!-- Extra Info: Address, Cost, Rating -->
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 text-sm mt-4 border-t border-gray-200 pt-4">
                                    {% if item.address %}
                                    <div class="flex items-start space-x-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor"><path fill-rule="evenodd" d="M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z" clip-rule="evenodd" /></svg>
                                        <span class="text-gray-700">{{ item.address }}</span>
                                    </div>
                                    {% endif %}
                                     {% if item.estimated_cost and item.estimated_cost != '0' %}
                                    <div class="flex items-start space-x-2">
                                        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor"><path d="M8.433 7.418c.158-.103.346-.196.552-.257C9.46.99 10.222.99 11 .99c.778 0 1.54.0 1.996.03.206.06.394.154.552.257.247.162.476.38.658.628.18.247.308.52.368.815.06.293.09.61.09.956v.284c0 .346-.03.663-.09.956-.06.295-.188.568-.368.814-.182.248-.41.466-.658.629-.158.103-.346.196-.552.257C12.54.99 11.778.99 11 .99c-.778 0-1.54.0-1.996.03-.206.06-.394.154-.552.257-.247-.162-.476-.38-.658-.629-.18-.247-.308-.52-.368-.814-.06-.293-.09-.61-.09-.956v-.284c0-.346.03-.663.09-.956.06-.295.188-.568.368-.815.182-.248.41-.466.658-.628zM11 15.99c-1.334 0-2.555-.26-3.622-.764-.2-.093-.41-.173-.623-.243-1.083-.357-2.09-.85-2.982-1.465-.458-.313-.88-.67-1.272-1.072S.99 9.044.99 8c0-1.044.313-1.99.78-2.73.468-.74.99-1.397 1.576-1.962C4.133 2.53 4.915 1.99 5.804 1.99c.143 0 .285.006.425.018.14.012.282.028.423.048.282.04.557.09.825.15.268.06.527.128.775.204.248.076.488.16.718.252.23.092.45.19.66.294.21.104.41.21.602.32.192.11.375.225.55.345.174.12.34.245.5.375.16.13.312.26.455.394.143.134.276.27.4.408.125.138.24.278.345.42.105.14.2.283.285.426.085.143.16.285.225.426.065.14.12.28.165.418.045.14.08.275.105.41.025.135.04.268.045.4.005.132.008.263.008.392v.284c0 .13-.003.26-.008.392-.005.132-.02.265-.045.4-.025.135-.06.27-.105.41-.045.14-.09.28-.165.418-.065.14-.12.28-.225.426-.085.143-.18.286-.285.426-.105.142-.22.282-.345.42-.124.138-.257.274-.4.408-.143.133-.285.268-.455.393-.16.13-.326.255-.5.375-.175.12-.358.235-.55.345-.19.11-.39.216-.602.32-.21.103-.43.201-.66.293-.23.092-.47.176-.718.252-.248.076-.507.144-.775.204-.268.06-.543.11-.825.15-.14.02-.283.036-.423.048-.14.012-.282.018-.425.018-.89 0-1.673-.54-2.455-1.317-.468-.468-.88-1.023-1.226-1.662-.346-.64-.59-1.32-.71-2.025-.04-.23-.06-.45-.06-.662v-.284c0-.212.02-.432.06-.662.12-.705.364-1.385.71-2.025.346-.64.758-1.194 1.226-1.662C6.196 2.53 6.98 1.99 7.868 1.99c.334 0 .66.034.974.1.314.066.618.146.91.24.293.093.57.2.83.314.26.114.5.24.718.375.218.135.418.28.6.437.182.158.346.326.49.504.145.178.27.36.375.543.105.183.19.37.255.555.065.185.11.37.135.55.025.18.03.35.03.512v.284c0 .163-.005.332-.03.512-.025.18-.07.365-.135.55-.065.185-.15.372-.255.555-.105.183-.23.365-.375.543-.144.178-.308.346-.49.504-.182.157-.382.302-.6.437-.218.135-.458.261-.718.375-.26.114-.537.22-.83.314-.292.094-.596.174-.91.24-.314.066-.64.1-.974.1z" clip-rule="evenodd" /></svg>
                                        <span class="text-gray-700">{{ item.estimated_cost }}</span>
                                    </div>
                                    {% endif %}
                                    {% if item.rating > 0 %}
                                    <div class="flex items-start space-x-2">
                                         <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-gray-500 flex-shrink-0" viewBox="0 0 20 20" fill="currentColor"><path d="M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z" /></svg>
                                        <span class="text-gray-700">{{ item.rating }} / 5.0</span>
                                    </div>
                                    {% endif %}
                                </div>
                            </div>
                        </div>
                        {% endfor %}
                    </div>
                </div>
                {% endfor %}
            </div>

             <!-- Back Button -->
            <div class="text-center mt-12">
                <a href="/" class="w-full md:w-auto px-8 py-3 text-white bg-blue-600 rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 font-medium transition duration-200">
                    Create Another Plan
                </a>
            </div>
        </div>
    </div>

</body>
</html>
